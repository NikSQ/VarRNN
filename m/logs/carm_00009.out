

config:

HOME=/clusterFS/home/student/kopp13
PATH=/clusterFS/home/student/kopp13/miniconda3/envs/tensorflow/bin:/clusterFS/home/student/kopp13/miniconda3/condabin:/clusterFS/home/student/kopp13/VarRNN/src/bin:/clusterFS/home/student/kopp13/miniconda3/bin:/clusterFS/home/student/kopp13/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
LD_LIBRARY_PATH=:/usr/local/cuda-9.0/lib64
THEANO_FLAGS=floatX=float32,gpuarray.preallocate=0.9,dnn.library_path=/usr/lib/x86_64-linux-gnu,cxx=clang++-3.8,device=cuda,base_compiledir=/tmp/tmp.gIl4k1QFe5

what

=============================
CONFIG FILE

TRAINING CONFIG
{'algorithm': 'c_arm',
 'batchnorm': {'modes': [], 'momentum': 0.98, 'tau': 1, 'type': 'none'},
 'carm_iterations': 500,
 'dir_reg': 0.0,
 'ent_reg': 0.0,
 'learning_rate': 0.002,
 'learning_rate_tau': inf,
 'mode': {'max_epochs': 100, 'min_error': 0.0, 'name': 'classic'},
 'pretraining': {'enabled': True, 'path': 'm_model'},
 'task_id': 9,
 'tau': 1.0,
 'var_reg': 0.0}

DATA CONFIG
{'dataset': 'penstroke',
 'remove_bias': True,
 'te': {'in_seq_len': 40,
        'max_truncation': 5,
        'minibatch_enabled': True,
        'minibatch_size': 500},
 'tr': {'in_seq_len': 40,
        'max_truncation': 5,
        'minibatch_enabled': True,
        'minibatch_size': 1000},
 'va': {'in_seq_len': 40,
        'max_truncation': 5,
        'minibatch_enabled': True,
        'minibatch_size': 500}}

RNN CONFIG
{'act_disc': [],
 'data_multiplier': None,
 'gradient_clip_value': 0.5,
 'layer_configs': [{'layer_type': 'input'},
                   {'bc': {'init_m': 'zeros',
                           'init_v': -4.5,
                           'prior_m': 0.0,
                           'prior_v': 0.0,
                           'type': 'continuous'},
                    'bf': {'init_m': 'ones',
                           'init_v': -4.5,
                           'prior_m': 1.0,
                           'prior_v': 0.0,
                           'type': 'continuous'},
                    'bi': {'init_m': 'zeros',
                           'init_v': -4.5,
                           'prior_m': 0.0,
                           'prior_v': 0.0,
                           'type': 'continuous'},
                    'bo': {'init_m': 'zeros',
                           'init_v': -4.5,
                           'prior_m': 0.0,
                           'prior_v': 0.0,
                           'type': 'continuous'},
                    'discrete_act': [],
                    'layer_type': 'lstm',
                    'lr_adapt': False,
                    'parametrization': 'sigmoid',
                    'tau': 1.0,
                    'var_scope': 'lstm_0',
                    'wc': {'p0max': 0.95,
                           'p0min': 0.05,
                           'parametrization': 'sigmoid',
                           'pmax': 0.99,
                           'pmin': 0.01,
                           'priors': [0.1, 0.8, 0.1],
                           'type': 'binary'},
                    'wf': {'p0max': 0.95,
                           'p0min': 0.05,
                           'parametrization': 'sigmoid',
                           'pmax': 0.99,
                           'pmin': 0.01,
                           'priors': [0.1, 0.8, 0.1],
                           'type': 'binary'},
                    'wi': {'p0max': 0.95,
                           'p0min': 0.05,
                           'parametrization': 'sigmoid',
                           'pmax': 0.99,
                           'pmin': 0.01,
                           'priors': [0.1, 0.8, 0.1],
                           'type': 'binary'},
                    'wo': {'p0max': 0.95,
                           'p0min': 0.05,
                           'parametrization': 'sigmoid',
                           'pmax': 0.99,
                           'pmin': 0.01,
                           'priors': [0.1, 0.8, 0.1],
                           'type': 'binary'}},
                   {'bc': {'init_m': 'zeros',
                           'init_v': -4.5,
                           'prior_m': 0.0,
                           'prior_v': 0.0,
                           'type': 'continuous'},
                    'bf': {'init_m': 'ones',
                           'init_v': -4.5,
                           'prior_m': 1.0,
                           'prior_v': 0.0,
                           'type': 'continuous'},
                    'bi': {'init_m': 'zeros',
                           'init_v': -4.5,
                           'prior_m': 0.0,
                           'prior_v': 0.0,
                           'type': 'continuous'},
                    'bo': {'init_m': 'zeros',
                           'init_v': -4.5,
                           'prior_m': 0.0,
                           'prior_v': 0.0,
                           'type': 'continuous'},
                    'discrete_act': [],
                    'layer_type': 'lstm',
                    'lr_adapt': False,
                    'parametrization': 'sigmoid',
                    'tau': 1.0,
                    'var_scope': 'lstm_1',
                    'wc': {'p0max': 0.95,
                           'p0min': 0.05,
                           'parametrization': 'sigmoid',
                           'pmax': 0.99,
                           'pmin': 0.01,
                           'priors': [0.1, 0.8, 0.1],
                           'type': 'binary'},
                    'wf': {'p0max': 0.95,
                           'p0min': 0.05,
                           'parametrization': 'sigmoid',
                           'pmax': 0.99,
                           'pmin': 0.01,
                           'priors': [0.1, 0.8, 0.1],
                           'type': 'binary'},
                    'wi': {'p0max': 0.95,
                           'p0min': 0.05,
                           'parametrization': 'sigmoid',
                           'pmax': 0.99,
                           'pmin': 0.01,
                           'priors': [0.1, 0.8, 0.1],
                           'type': 'binary'},
                    'wo': {'p0max': 0.95,
                           'p0min': 0.05,
                           'parametrization': 'sigmoid',
                           'pmax': 0.99,
                           'pmin': 0.01,
                           'priors': [0.1, 0.8, 0.1],
                           'type': 'binary'}},
                   {'b': {'init_m': 'zeros',
                          'init_v': -4.5,
                          'prior_m': 0.0,
                          'prior_v': 0.0,
                          'type': 'continuous'},
                    'layer_type': 'fc',
                    'lr_adapt': False,
                    'parametrization': 'sigmoid',
                    'regularization': {'mode': None, 'strength': 0.02},
                    'tau': 1.0,
                    'var_scope': 'output_layer',
                    'w': {'p0max': 0.95,
                          'p0min': 0.05,
                          'parametrization': 'sigmoid',
                          'pmax': 0.99,
                          'pmin': 0.01,
                          'priors': [0.1, 0.8, 0.1],
                          'type': 'binary'}}],
 'layout': [4, 40, 40, 10],
 'output_type': 'classification'}
==============================


tr
(9940, 4, 40)
va
(2120, 4, 40)
te
(1780, 4, 40)
  0,  0 | VaAcc: 0.1024, VaLoss:  5.03484	 MAP NN | Acc: 0.1140 | Loss: 5.7402
  1,  0 | VaAcc: 0.0992, VaLoss:  5.10024	 MAP NN | Acc: 0.1288 | Loss: 5.2889
  2,  0 | VaAcc: 0.1088, VaLoss:  4.94220	 MAP NN | Acc: 0.1120 | Loss: 5.3713
  3,  0 | VaAcc: 0.1188, VaLoss:  4.83513	 MAP NN | Acc: 0.1316 | Loss: 4.9773
  4,  0 | VaAcc: 0.1052, VaLoss:  5.23083	 MAP NN | Acc: 0.1328 | Loss: 5.0353
  5,  0 | VaAcc: 0.0964, VaLoss:  4.79540	 MAP NN | Acc: 0.1436 | Loss: 4.9384
  6,  0 | VaAcc: 0.1104, VaLoss:  4.76545	 MAP NN | Acc: 0.1548 | Loss: 4.9425
  7,  0 | VaAcc: 0.1020, VaLoss:  4.79285	 MAP NN | Acc: 0.1460 | Loss: 5.0457
  8,  0 | VaAcc: 0.1172, VaLoss:  4.73253	 MAP NN | Acc: 0.1220 | Loss: 5.1309
  9,  0 | VaAcc: 0.1140, VaLoss:  4.93113	 MAP NN | Acc: 0.1412 | Loss: 5.0133
 10,  0 | VaAcc: 0.1220, VaLoss:  4.73140	 MAP NN | Acc: 0.1448 | Loss: 4.4547
 11,  0 | VaAcc: 0.1052, VaLoss:  4.91072	 MAP NN | Acc: 0.1564 | Loss: 4.7003
 12,  0 | VaAcc: 0.1180, VaLoss:  4.56905	 MAP NN | Acc: 0.1800 | Loss: 4.4420
 13,  0 | VaAcc: 0.0988, VaLoss:  5.00126	 MAP NN | Acc: 0.1736 | Loss: 4.4408
 14,  0 | VaAcc: 0.1144, VaLoss:  4.55326	 MAP NN | Acc: 0.1988 | Loss: 4.6236
 15,  0 | VaAcc: 0.1180, VaLoss:  4.74490	 MAP NN | Acc: 0.1328 | Loss: 4.6156
 16,  0 | VaAcc: 0.1040, VaLoss:  4.78040	 MAP NN | Acc: 0.1368 | Loss: 4.6214
 17,  0 | VaAcc: 0.1100, VaLoss:  4.76376	 MAP NN | Acc: 0.1420 | Loss: 4.3798
 18,  0 | VaAcc: 0.1016, VaLoss:  4.78327	 MAP NN | Acc: 0.1528 | Loss: 4.5312
 19,  0 | VaAcc: 0.1352, VaLoss:  4.64289	 MAP NN | Acc: 0.1404 | Loss: 4.5579
 20,  0 | VaAcc: 0.1208, VaLoss:  4.61693	 MAP NN | Acc: 0.1480 | Loss: 4.5527
 21,  0 | VaAcc: 0.1140, VaLoss:  4.82686	 MAP NN | Acc: 0.1420 | Loss: 4.6406
 22,  0 | VaAcc: 0.1240, VaLoss:  4.56235	 MAP NN | Acc: 0.1512 | Loss: 4.5446
 23,  0 | VaAcc: 0.1052, VaLoss:  4.78513	 MAP NN | Acc: 0.1640 | Loss: 4.4237
 24,  0 | VaAcc: 0.1484, VaLoss:  4.41083	 MAP NN | Acc: 0.1464 | Loss: 4.3444
 25,  0 | VaAcc: 0.1132, VaLoss:  4.39481	 MAP NN | Acc: 0.1672 | Loss: 4.4016
 26,  0 | VaAcc: 0.1032, VaLoss:  4.74731	 MAP NN | Acc: 0.1768 | Loss: 4.4498
 27,  0 | VaAcc: 0.1108, VaLoss:  4.64832	 MAP NN | Acc: 0.1768 | Loss: 4.2351
 28,  0 | VaAcc: 0.1164, VaLoss:  4.79685	 MAP NN | Acc: 0.1592 | Loss: 4.3303
 29,  0 | VaAcc: 0.1228, VaLoss:  4.60660	 MAP NN | Acc: 0.2020 | Loss: 4.0343
 30,  0 | VaAcc: 0.1040, VaLoss:  4.72095	 MAP NN | Acc: 0.2124 | Loss: 4.0674
 31,  0 | VaAcc: 0.1320, VaLoss:  4.51317	 MAP NN | Acc: 0.2548 | Loss: 4.0329
 32,  0 | VaAcc: 0.1144, VaLoss:  4.87578	 MAP NN | Acc: 0.1888 | Loss: 4.1221
 33,  0 | VaAcc: 0.1184, VaLoss:  4.72055	 MAP NN | Acc: 0.2156 | Loss: 4.1039
 34,  0 | VaAcc: 0.1028, VaLoss:  4.60874	 MAP NN | Acc: 0.2236 | Loss: 3.9329
 35,  0 | VaAcc: 0.1104, VaLoss:  4.69600	 MAP NN | Acc: 0.2436 | Loss: 3.9590
 36,  0 | VaAcc: 0.1420, VaLoss:  4.46541	 MAP NN | Acc: 0.2228 | Loss: 4.3175
 37,  0 | VaAcc: 0.1276, VaLoss:  4.78537	 MAP NN | Acc: 0.2340 | Loss: 4.2130
 38,  0 | VaAcc: 0.1464, VaLoss:  4.40980	 MAP NN | Acc: 0.2156 | Loss: 4.1363
 39,  0 | VaAcc: 0.1364, VaLoss:  4.51662	 MAP NN | Acc: 0.2516 | Loss: 3.9078
 40,  0 | VaAcc: 0.1148, VaLoss:  4.65817	 MAP NN | Acc: 0.2604 | Loss: 3.7848
 41,  0 | VaAcc: 0.1280, VaLoss:  4.52308	 MAP NN | Acc: 0.2288 | Loss: 3.8196
 42,  0 | VaAcc: 0.1328, VaLoss:  4.30794	 MAP NN | Acc: 0.2628 | Loss: 3.6702
 43,  0 | VaAcc: 0.1164, VaLoss:  4.62118	 MAP NN | Acc: 0.2488 | Loss: 3.9474
 44,  0 | VaAcc: 0.1236, VaLoss:  4.73193	 MAP NN | Acc: 0.2288 | Loss: 3.9544
 45,  0 | VaAcc: 0.1068, VaLoss:  4.60485	 MAP NN | Acc: 0.2720 | Loss: 3.7712
 46,  0 | VaAcc: 0.1248, VaLoss:  4.65078	 MAP NN | Acc: 0.2268 | Loss: 3.9596
 47,  0 | VaAcc: 0.1276, VaLoss:  4.51535	 MAP NN | Acc: 0.2128 | Loss: 4.0190
 48,  0 | VaAcc: 0.1204, VaLoss:  4.51290	 MAP NN | Acc: 0.2048 | Loss: 3.8779
 49,  0 | VaAcc: 0.1052, VaLoss:  4.56403	 MAP NN | Acc: 0.2448 | Loss: 3.7422
 50,  0 | VaAcc: 0.1236, VaLoss:  4.55351	 MAP NN | Acc: 0.2500 | Loss: 3.7292
 51,  0 | VaAcc: 0.1192, VaLoss:  4.61252	 MAP NN | Acc: 0.2420 | Loss: 3.7767
 52,  0 | VaAcc: 0.1320, VaLoss:  4.46655	 MAP NN | Acc: 0.2144 | Loss: 3.7903
 53,  0 | VaAcc: 0.1276, VaLoss:  4.43021	 MAP NN | Acc: 0.1956 | Loss: 3.7646
 54,  0 | VaAcc: 0.1192, VaLoss:  4.62074	 MAP NN | Acc: 0.1896 | Loss: 3.8031
 55,  0 | VaAcc: 0.1316, VaLoss:  4.38405	 MAP NN | Acc: 0.1964 | Loss: 3.7318
 56,  0 | VaAcc: 0.1296, VaLoss:  4.63878	 MAP NN | Acc: 0.1992 | Loss: 3.8811
 57,  0 | VaAcc: 0.1252, VaLoss:  4.53370	 MAP NN | Acc: 0.1988 | Loss: 3.8893
 58,  0 | VaAcc: 0.1196, VaLoss:  4.46742	 MAP NN | Acc: 0.2056 | Loss: 3.8493
 59,  0 | VaAcc: 0.1216, VaLoss:  4.29654	 MAP NN | Acc: 0.1936 | Loss: 3.8318
 60,  0 | VaAcc: 0.1372, VaLoss:  4.29110	 MAP NN | Acc: 0.1988 | Loss: 3.7396
 61,  0 | VaAcc: 0.1292, VaLoss:  4.32323	 MAP NN | Acc: 0.2192 | Loss: 3.7654
 62,  0 | VaAcc: 0.1404, VaLoss:  4.31362	 MAP NN | Acc: 0.2108 | Loss: 3.7859
 63,  0 | VaAcc: 0.1264, VaLoss:  4.50148	 MAP NN | Acc: 0.2080 | Loss: 3.8158
 64,  0 | VaAcc: 0.1268, VaLoss:  4.53018	 MAP NN | Acc: 0.2300 | Loss: 3.8020
 65,  0 | VaAcc: 0.1128, VaLoss:  4.46985	 MAP NN | Acc: 0.2400 | Loss: 3.7645
 66,  0 | VaAcc: 0.1292, VaLoss:  4.45462	 MAP NN | Acc: 0.2132 | Loss: 3.8666
 67,  0 | VaAcc: 0.1192, VaLoss:  4.49550	 MAP NN | Acc: 0.1912 | Loss: 3.9324
 68,  0 | VaAcc: 0.1268, VaLoss:  4.14938	 MAP NN | Acc: 0.2160 | Loss: 3.7518
 69,  0 | VaAcc: 0.1668, VaLoss:  4.46831	 MAP NN | Acc: 0.2060 | Loss: 3.6774
 70,  0 | VaAcc: 0.1348, VaLoss:  4.48677	 MAP NN | Acc: 0.2244 | Loss: 3.6326
 71,  0 | VaAcc: 0.1300, VaLoss:  4.34668	 MAP NN | Acc: 0.2120 | Loss: 3.6656
 72,  0 | VaAcc: 0.1228, VaLoss:  4.32808	 MAP NN | Acc: 0.2428 | Loss: 3.4284
 73,  0 | VaAcc: 0.1340, VaLoss:  4.31681	 MAP NN | Acc: 0.2184 | Loss: 3.6920
 74,  0 | VaAcc: 0.1252, VaLoss:  4.53876	 MAP NN | Acc: 0.2436 | Loss: 3.7745
 75,  0 | VaAcc: 0.1380, VaLoss:  4.26995	 MAP NN | Acc: 0.2264 | Loss: 3.6792
 76,  0 | VaAcc: 0.1344, VaLoss:  4.12646	 MAP NN | Acc: 0.2232 | Loss: 3.7166
 77,  0 | VaAcc: 0.1116, VaLoss:  4.60751	 MAP NN | Acc: 0.2324 | Loss: 3.7140
 78,  0 | VaAcc: 0.1340, VaLoss:  4.33385	 MAP NN | Acc: 0.2244 | Loss: 3.7342
 79,  0 | VaAcc: 0.1348, VaLoss:  4.34136	 MAP NN | Acc: 0.2408 | Loss: 3.5388
 80,  0 | VaAcc: 0.1416, VaLoss:  4.55357	 MAP NN | Acc: 0.2536 | Loss: 3.5453
 81,  0 | VaAcc: 0.1412, VaLoss:  4.31757	 MAP NN | Acc: 0.2796 | Loss: 3.4981
 82,  0 | VaAcc: 0.1320, VaLoss:  4.43984	 MAP NN | Acc: 0.2728 | Loss: 3.4352
 83,  0 | VaAcc: 0.1284, VaLoss:  4.26361	 MAP NN | Acc: 0.2968 | Loss: 3.2664
 84,  0 | VaAcc: 0.1572, VaLoss:  4.11902	 MAP NN | Acc: 0.2844 | Loss: 3.2950
 85,  0 | VaAcc: 0.1292, VaLoss:  4.29179	 MAP NN | Acc: 0.2916 | Loss: 3.2899
 86,  0 | VaAcc: 0.1296, VaLoss:  4.19472	 MAP NN | Acc: 0.2624 | Loss: 3.4543
 87,  0 | VaAcc: 0.1336, VaLoss:  4.43523	 MAP NN | Acc: 0.2716 | Loss: 3.3862
 88,  0 | VaAcc: 0.1420, VaLoss:  4.31675	 MAP NN | Acc: 0.2656 | Loss: 3.2850
 89,  0 | VaAcc: 0.1464, VaLoss:  4.37222	 MAP NN | Acc: 0.2984 | Loss: 3.2185
 90,  0 | VaAcc: 0.1468, VaLoss:  4.04487	 MAP NN | Acc: 0.2948 | Loss: 3.2072
 91,  0 | VaAcc: 0.1340, VaLoss:  4.09548	 MAP NN | Acc: 0.3056 | Loss: 3.2411
 92,  0 | VaAcc: 0.1384, VaLoss:  4.31824	 MAP NN | Acc: 0.2816 | Loss: 3.3437
 93,  0 | VaAcc: 0.1288, VaLoss:  4.26611	 MAP NN | Acc: 0.2924 | Loss: 3.3516
 94,  0 | VaAcc: 0.1360, VaLoss:  4.21655	 MAP NN | Acc: 0.2980 | Loss: 3.2768
 95,  0 | VaAcc: 0.1384, VaLoss:  4.18748	 MAP NN | Acc: 0.2496 | Loss: 3.5922
 96,  0 | VaAcc: 0.1328, VaLoss:  4.27473	 MAP NN | Acc: 0.2640 | Loss: 3.5501
 97,  0 | VaAcc: 0.1644, VaLoss:  4.21559	 MAP NN | Acc: 0.2448 | Loss: 3.5880
 98,  0 | VaAcc: 0.1356, VaLoss:  4.24237	 MAP NN | Acc: 0.2548 | Loss: 3.4500
 99,  0 | VaAcc: 0.1276, VaLoss:  4.32662	 MAP NN | Acc: 0.2560 | Loss: 3.4944
----------------------------
Results for va_b
Metric: elogl 
 7.769 in iteration   28
Metric: acc   
 16.68 % in iteration   69
Results for va_s
Metric: acc   
 30.56 % in iteration   91
Metric: loss  
EARLY STOP FOR te_s
 27.70 % in iteration   91
